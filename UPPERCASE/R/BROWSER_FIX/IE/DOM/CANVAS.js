OVERRIDE({origin:CANVAS,func:function(t){"use strict";global.CANVAS=CLASS({preset:function(){return t},init:function(t,e,i){var n;i.exportImgData=n=function(t,e){var n=t.img,o=EVENT({node:n,name:"load"},function(){var g,a=void 0===t.width?n.getWidth():t.width,d=void 0===t.height?n.getHeight():t.height;g=i.getContext(),i.addStyle({position:"absolute",left:-999999,top:-999999}),i.setSize({width:a,height:d}),i.appendTo(BODY),i.getEl().onload=function(t){g.drawImg({img:{getEl:function(){return t}}}),g.exportImgData({width:a,height:d},e)},i.getEl().loadImages(n.getSrc()),o.remove()})}}})}});